<!-- a542025b-e1a2-4844-9474-370c9770d469 201a36fa-7f87-45b2-b33e-f738d4e1e03e -->
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ FastAPI –≤ systemd

## –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å FastAPI (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å) –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ systemd –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- ‚úÖ Asterisk - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è systemd
- ‚úÖ Redis - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è systemd  
- ‚úÖ Stasis Handler - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è systemd (`metrotech-bot.service`)
- ‚ùå FastAPI - –∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é, –ù–ï –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –†–∏—Å–∫–∏ –∏ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üõ°Ô∏è –ß—Ç–æ –ù–ï –±—É–¥–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ:

- ‚úÖ Asterisk –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ Stasis Handler –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ Redis –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –¢–µ–∫—É—â–∏–µ –∑–≤–æ–Ω–∫–∏ –ù–ï –ø—Ä–µ—Ä–≤—É—Ç—Å—è
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å FastAPI –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ –µ–≥–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### üîÑ –ß—Ç–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–æ:

- –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª `/etc/systemd/system/metrotech-fastapi.service`
- FastAPI –±—É–¥–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ systemd
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ FastAPI –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

### ‚Ü©Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞:

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
sudo systemctl stop metrotech-fastapi
# –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI –≤—Ä—É—á–Ω—É—é –∫–∞–∫ —Ä–∞–Ω—å—à–µ
cd /root/Asterisk_bot/asterisk-vox-bot && source venv/bin/activate && nohup python app/backend/main.py > /dev/null 2>&1 &
```

## –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

–°–æ–∑–¥–∞–¥–∏–º backup —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–∞—Ç–∞:

```bash
cd /root/Asterisk_bot
tar -czf project_backup/fastapi_systemd_backup_$(date +%Y%m%d_%H%M%S).tar.gz \
  /etc/systemd/system/metrotech-bot.service \
  asterisk-vox-bot/.env 2>/dev/null || true
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å FastAPI

–ó–∞–ø–∏—à–µ–º PID —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å, —á—Ç–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å:

```bash
ps aux | grep "python app/backend/main.py" | grep -v grep
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å systemd unit —Ñ–∞–π–ª –¥–ª—è FastAPI

–§–∞–π–ª: `/etc/systemd/system/metrotech-fastapi.service`

```ini
[Unit]
Description=Metrotech FastAPI Admin Panel & API
After=network.target redis-server.service
Wants=redis-server.service

[Service]
Type=simple
User=root
WorkingDirectory=/root/Asterisk_bot/asterisk-vox-bot
Environment="PATH=/root/Asterisk_bot/asterisk-vox-bot/venv/bin:/usr/local/bin:/usr/bin:/bin"
Environment="PYTHONDONTWRITEBYTECODE=1"
Environment="PYTHONUNBUFFERED=1"
ExecStart=/bin/bash -lc 'source /root/Asterisk_bot/asterisk-vox-bot/venv/bin/activate && exec python /root/Asterisk_bot/asterisk-vox-bot/app/backend/main.py'
Restart=always
RestartSec=10
StandardOutput=append:/root/Asterisk_bot/asterisk-vox-bot/fastapi.log
StandardError=append:/root/Asterisk_bot/asterisk-vox-bot/fastapi.log

[Install]
WantedBy=multi-user.target
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

- `After=redis-server.service` - –∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ Redis (FastAPI –Ω—É–∂–µ–Ω Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)
- `Restart=always` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ
- `RestartSec=10` - –ø–∞—É–∑–∞ 10 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
- –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ —Ñ–∞–π–ª `fastapi.log` (–Ω–µ –ø—É—Ç–∞–µ—Ç—Å—è —Å `bot.log`)

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é systemd

```bash
sudo systemctl daemon-reload
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ:** –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –Ω–∏—á–µ–≥–æ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç.

### –®–∞–≥ 5: –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

```bash
sudo systemctl enable metrotech-fastapi
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ:** –¢–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∏–º–ª–∏–Ω–∫ –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞, –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å.

### –®–∞–≥ 6: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å FastAPI

```bash
# –ù–∞–π—Ç–∏ PID –ø—Ä–æ—Ü–µ—Å—Å–∞ main.py
PID=$(ps aux | grep "python app/backend/main.py" | grep -v grep | awk '{print $2}')
# –ú—è–≥–∫–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (SIGTERM)
kill $PID
# –ü–æ–¥–æ–∂–¥–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã
sleep 2
```

**–í–ª–∏—è–Ω–∏–µ:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ 2-5 —Å–µ–∫—É–Ω–¥. –ó–≤–æ–Ω–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

### –®–∞–≥ 7: –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI —á–µ—Ä–µ–∑ systemd

```bash
sudo systemctl start metrotech-fastapi
```

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```bash
sudo systemctl status metrotech-fastapi --no-pager
```

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

```bash
tail -50 /root/Asterisk_bot/asterisk-vox-bot/fastapi.log | grep -E "(–ì–æ—Ä—è—á–∞—è|–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥|–ê–≥–µ–Ω—Ç)"
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üî• –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤–∫–ª—é—á–µ–Ω–∞ (–∏–Ω—Ç–µ—Ä–≤–∞–ª: 5.0—Å)
üîç –ó–∞–ø—É—â–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–∞ –ø—Ä–æ–º–ø—Ç–æ–≤: config/prompts.json
```

### –®–∞–≥ 10: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

```bash
curl -s http://localhost:8000/api/prompts | head -20
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –¢–µ—Å—Ç 1: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã

```bash
sudo systemctl status asterisk metrotech-bot metrotech-fastapi redis-server --no-pager
```

–í—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `active (running)`.

### –¢–µ—Å—Ç 2: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞

–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

- –õ–æ–≥–∏ –∑–≤–æ–Ω–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã
- –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

### –¢–µ—Å—Ç 3: –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. –ü–æ–¥–æ–∂–¥–∞—Ç—å 5-10 —Å–µ–∫—É–Ω–¥
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `tail -f /root/Asterisk_bot/asterisk-vox-bot/bot.log | grep "–ü—Ä–æ–º–ø—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã"`

### –¢–µ—Å—Ç 4: –ó–≤–æ–Ω–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

–ü–æ–∑–≤–æ–Ω–∏—Ç—å –±–æ—Ç—É –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω –æ—Ç–≤–µ—á–∞–µ—Ç.

## –ò—Ç–æ–≥–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ:

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
sudo systemctl status asterisk redis-server metrotech-bot metrotech-fastapi

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
sudo systemctl restart metrotech-fastapi

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo systemctl restart asterisk redis-server metrotech-bot metrotech-fastapi

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
sudo journalctl -u metrotech-fastapi -f
# –∏–ª–∏
tail -f /root/Asterisk_bot/asterisk-vox-bot/fastapi.log

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞/–∑–∞–ø—É—Å–∫
sudo systemctl stop metrotech-fastapi
sudo systemctl start metrotech-fastapi
```

## –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
sudo systemctl stop metrotech-fastapi
sudo systemctl disable metrotech-fastapi

# 2. –£–¥–∞–ª–∏—Ç—å unit —Ñ–∞–π–ª
sudo rm /etc/systemd/system/metrotech-fastapi.service
sudo systemctl daemon-reload

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI –≤—Ä—É—á–Ω—É—é –∫–∞–∫ —Ä–∞–Ω—å—à–µ
cd /root/Asterisk_bot/asterisk-vox-bot
source venv/bin/activate
nohup python app/backend/main.py > /dev/null 2>&1 &

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ FastAPI —Ä–∞–±–æ—Ç–∞–µ—Ç
ps aux | grep "main.py"
curl http://localhost:8000/api/prompts
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

1. ‚úÖ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** - FastAPI –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. ‚úÖ **–ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** - –ø—Ä–∏ —Å–±–æ–µ FastAPI –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
3. ‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ systemctl
4. ‚úÖ **–û—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏** - –ª–æ–≥–∏ FastAPI –≤ `fastapi.log`, –Ω–µ –ø—É—Ç–∞—é—Ç—Å—è —Å –ª–æ–≥–∞–º–∏ –∑–≤–æ–Ω–∫–æ–≤
5. ‚úÖ **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –æ–±–æ–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
6. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã systemd –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## –í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è

- **Asterisk:** 0 —Å–µ–∫—É–Ω–¥ (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è)
- **Stasis Handler:** 0 —Å–µ–∫—É–Ω–¥ (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è)  
- **Redis:** 0 —Å–µ–∫—É–Ω–¥ (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è)
- **FastAPI (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å):** 2-5 —Å–µ–∫—É–Ω–¥ (–≤—Ä–µ–º—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
- **–ó–≤–æ–Ω–∫–∏:** 0 —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—Å—Ç–æ—è (–ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è)

### To-dos

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ PROMPTS_HOT_RELOAD –∏ PROMPTS_RELOAD_INTERVAL_SEC –≤ .env —Ñ–∞–π–ª
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç threading –≤ agent.py
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –≤ –º–µ—Ç–æ–¥ __init__ –∫–ª–∞—Å—Å–∞ Agent
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã _get_file_mtime, _watch_prompts_file –∏ reload_prompts –≤ –∫–ª–∞—Å—Å Agent
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ reload() –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ reload_prompts()
- [ ] –£–ª—É—á—à–∏—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—É—é –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ –≤ FastAPI endpoint /api/prompts
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å systemd —Å–µ—Ä–≤–∏—Å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä—è—á—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É